{
  "type": "object",
  "properties": {
    "name": {
      "type": "string"
    },
    "summary": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "trigger": {
      "$ref": "./ITrigger/ITrigger.schema.json",
      "description": "The event or condition that starts the automation",
      "examples": [
        {
          "service": "Http",
          "trigger": "ApiCalled",
          "method": "POST",
          "path": "/webhook",
          "headers": {
            "Content-Type": "application/json"
          }
        }
      ]
    },
    "actions": {
      "type": "array",
      "items": {
        "$ref": "./IAction/IAction.schema.json"
      },
      "description": "List of actions to be executed when the trigger is activated",
      "examples": [
        {
          "0": {
            "service": "Database",
            "action": "CreateRecord",
            "table": "users",
            "fields": {
              "name": "{{trigger.payload.name}}",
              "email": "{{trigger.payload.email}}"
            }
          },
          "1": {
            "integration": "GoogleMail",
            "action": "SendEmail",
            "email": {
              "to": "{{trigger.payload.email}}",
              "subject": "Welcome to our platform",
              "text": "Hello {{trigger.payload.name}}!"
            }
          }
        }
      ]
    }
  },
  "required": [
    "actions",
    "name",
    "trigger"
  ],
  "additionalProperties": false,
  "description": "Defines an automation workflow with triggers and actions",
  "title": "Automation configuration"
}